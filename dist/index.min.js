"use strict";(function(){var y=function(a,i){return function(){return i||a((i={exports:{}}).exports,i),i.exports}};var w=y(function(s){"use strict";var v=s&&s.__awaiter||function(a,i,n,u){function r(t){return t instanceof n?t:new n(function(c){c(t)})}return new(n||(n=Promise))(function(t,c){function l(o){try{e(u.next(o))}catch(d){c(d)}}function h(o){try{e(u.throw(o))}catch(d){c(d)}}function e(o){o.done?t(o.value):r(o.value).then(l,h)}e((u=u.apply(a,i||[])).next())})},b=s&&s.__generator||function(a,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},u,r,t,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(e){return function(o){return h([e,o])}}function h(e){if(u)throw new TypeError("Generator is already executing.");for(;n;)try{if(u=1,r&&(t=e[0]&2?r.return:e[0]?r.throw||((t=r.return)&&t.call(r),0):r.next)&&!(t=t.call(r,e[1])).done)return t;switch(r=0,t&&(e=[e[0]&2,t.value]),e[0]){case 0:case 1:t=e;break;case 4:return n.label++,{value:e[1],done:!1};case 5:n.label++,r=e[1],e=[0];continue;case 7:e=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(e[0]===6||e[0]===2)){n=0;continue}if(e[0]===3&&(!t||e[1]>t[0]&&e[1]<t[3])){n.label=e[1];break}if(e[0]===6&&n.label<t[1]){n.label=t[1],t=e;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(e);break}t[2]&&n.ops.pop(),n.trys.pop();continue}e=i.call(a,n)}catch(o){e=[6,o],r=0}finally{u=t=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}};Object.defineProperty(s,"__esModule",{value:!0});s.Nodes=void 0;var N=function(){function a(){this.nodeIndex=-1,this.committee=new Set,this.topology=[]}return a.prototype.init=function(i){return v(this,void 0,void 0,function(){var n;return b(this,function(u){switch(u.label){case 0:return this.nodeIndex=-1,this.committee.clear(),this.topology=[],n=this,[4,this.loadSeed(i)];case 1:return n.topology=u.sent(),[2]}})})},a.prototype.loadSeed=function(i){return v(this,void 0,void 0,function(){return b(this,function(n){return console.log("backend url is not used in this version - hard coded instead (".concat(i,")")),[2,[{Name:"2000000000000000000000000000000000000002",Ip:"18.221.31.187"},{Name:"3000000000000000000000000000000000000003",Ip:"3.140.253.61"}]]})})},a.prototype.getNextNode=function(i){for(i===void 0&&(i=!0);;)return this.nodeIndex++,this.nodeIndex>=this.topology.length&&(this.nodeIndex=0),this.topology[this.nodeIndex]},a.prototype.getRandomNode=function(i){i===void 0&&(i=!0);for(var n=Math.floor(Math.random()*this.topology.length);;)return n++,n>=this.topology.length&&(n=0),this.topology[n]},a}();s.Nodes=N});var g=y(function(f){"use strict";var p=f&&f.__awaiter||function(a,i,n,u){function r(t){return t instanceof n?t:new n(function(c){c(t)})}return new(n||(n=Promise))(function(t,c){function l(o){try{e(u.next(o))}catch(d){c(d)}}function h(o){try{e(u.throw(o))}catch(d){c(d)}}function e(o){o.done?t(o.value):r(o.value).then(l,h)}e((u=u.apply(a,i||[])).next())})},x=f&&f.__generator||function(a,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},u,r,t,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(e){return function(o){return h([e,o])}}function h(e){if(u)throw new TypeError("Generator is already executing.");for(;n;)try{if(u=1,r&&(t=e[0]&2?r.return:e[0]?r.throw||((t=r.return)&&t.call(r),0):r.next)&&!(t=t.call(r,e[1])).done)return t;switch(r=0,t&&(e=[e[0]&2,t.value]),e[0]){case 0:case 1:t=e;break;case 4:return n.label++,{value:e[1],done:!1};case 5:n.label++,r=e[1],e=[0];continue;case 7:e=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(e[0]===6||e[0]===2)){n=0;continue}if(e[0]===3&&(!t||e[1]>t[0]&&e[1]<t[3])){n.label=e[1];break}if(e[0]===6&&n.label<t[1]){n.label=t[1],t=e;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(e);break}t[2]&&n.ops.pop(),n.trys.pop();continue}e=i.call(a,n)}catch(o){e=[6,o],r=0}finally{u=t=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}};Object.defineProperty(f,"__esModule",{value:!0});f.Client=void 0;var k=w(),m=function(){function a(i){this.config=i,this.host=i.host||"ton.gateway.orbs.network",this.nodes=new k.Nodes}return a.prototype.init=function(){return p(this,void 0,void 0,function(){return x(this,function(i){return this.nodes.init(),[2]})})},a.prototype.buildUrl=function(i,n){var u=this.config.urlVersion.toString(),r=this.config.network,t=this.config.protocol;return"https://".concat(this.host,"/").concat(i,"/").concat(u,"/").concat(r,"/").concat(t,"/").concat(n)},a.prototype.getNextNodeUrl=function(i,n){return n===void 0&&(n=!1),this.buildUrl(this.nodes.getNextNode().Name,i)},a.prototype.getRandNodeUrl=function(i,n){return n===void 0&&(n=!1),this.buildUrl(this.nodes.getRandomNode().Name,i)},a}();f.Client=m});var S=y(function(_){Object.defineProperty(_,"__esModule",{value:!0});var I=g();window.tonGateway=I.Client});S();})();
